!function(e){function t(n){if(r[n])return r[n].exports;var a=r[n]={exports:{},id:n,loaded:!1};return e[n].call(a.exports,a,a.exports,t),a.loaded=!0,a.exports}var r={};return t.m=e,t.c=r,t.p="",t(0)}([function(e,t,r){function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var a,a,o=("function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}()),i=r(1),u="en-US",s=function(){function e(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],r=t.debug,a=void 0===r?!1:r,o=t.UTCOffset,i=void 0===o?null:o,s=t.locale,l=void 0===s?u:s,c=t.transformCode,m=void 0===c?function(e){return e}:c;n(this,e),this.memoized={},this.debug=a,this.UTCOffset=i,this.transformCode=m,this.zeroDate=this.createDate("1899-12-31T00:00:00.000"),this.setLocale(l)}return o(e,[{key:"clearMemoizedFunctions",value:function(){this.memoized={}}},{key:"setLocale",value:function(e){var t=r(2)("./"+e+".js");t||(t=r(2)("./"+u+".js")),this.locale=t["default"],this.clearMemoizedFunctions()}},{key:"setUTCOffset",value:function(e){this.UTCOffset=e}},{key:"createDate",value:function(){var e=new(Function.prototype.bind.apply(Date,[null].concat(Array.prototype.slice.call(arguments))));if(null!==this.UTCOffset){var t=e.getTimezoneOffset(),r=this.UTCOffset+t,n=60*r*1e3;e.setTime(e.getTime()+n)}return e}},{key:"log",value:function(e){this.debug&&console.log(e)}},{key:"gcd",value:function(e,t){for(var r=void 0;t;)r=e%t,e=t,t=r;return e}},{key:"applyNumberPattern",value:function(e,t,r){e=e.toString();var n="";if("right"===r)for(var a=0,o=-1,i=t.length;++o<i;)switch(t[o]){case"0":n+=e[a]||"0",a++;break;case"#":n+=e[a]||"",a++;break;case"?":n+=e[a]||" ",a++;break;case"[":for(;o<t.length&&"]"!==t[o];)n+=t[o],o++;o--;break;default:n+=t[o]}else{var u=!1,s=void 0;if(t=t.replace(/(0|#|\?)(,+?)(0|#|\?)/g,function(e,t,r,n){return u=!0,t+n}),u)for(var l=e.length-3;"-"===e[0]?l>1:l>0;)e=e.substr(0,l)+this.locale.thousandSeparator+e.substr(l),l-=3;for(var c=e.length-1,m=t.length;m--;)switch(t[m]){case"0":n=(e[c]||"0")+n,s=m,c--;break;case"#":n=(e[c]||"")+n,s=m,c--;break;case"?":n=(e[c]||" ")+n,s=m,c--;break;case"]":for(;m>0&&"["!==t[m];)n=t[m]+n,m--;m++;break;default:n=t[m]+n}c>=0&&null!==s&&(n=n.substr(0,s)+e.substr(0,c+1)+n.substr(s))}return n}},{key:"restoreOrigins",value:function(e,t){return e.toString().replace(/\[(?:(\$*?)|(.*?))\]/g,function(e,r){return r&&t[r.length-1]||e})}},{key:"formatAsNumberDecimal",value:function(e,t,r,n){e=e.toFixed(t).toString().split(".");var a=parseInt(e[0]),o=parseInt(e[1]||0);return this.applyNumberPattern(a,r)+this.locale.decimalSeparator+this.applyNumberPattern(o,n,"right")}},{key:"formatAsNumberFractial",value:function(e,t,r){var n=e.toString().split(".");n=n[1]?Math.pow(10,n[1].length):1,e=Math.floor(e*n);var a=this.gcd(e,n);return this.applyNumberPattern(e/a,t)+"/"+this.applyNumberPattern(n/a,r)}},{key:"formatAsNumberFractialMixed",value:function(e,t,r,n){var a=0,o=1,i=1,u=e.toString().split(".");return u[1]&&(o=Math.pow(10,u[1].length),a=parseInt(u[1]),i=this.gcd(a,o)),this.applyNumberPattern(Math.floor(e),t)+this.applyNumberPattern(a/i,r)+"/"+this.applyNumberPattern(o/i,n)}},{key:"formatAsNumberExponential",value:function(e,t,r,n,a,o){var i=0>e?-1:1,u=0;if(0!==e){e=Math.abs(e);for(var s=Math.pow(10,t);s>e||e.toFixed(r)<s;)e*=10,u++;for(;e>=s||e.toFixed(r)>=s;)e/=10,u--}e=(e*i).toFixed(r).toString().split(".");var l="";return l+=this.applyNumberPattern(parseInt(e[0]),n),a&&(l+=this.locale.decimalSeparator+this.applyNumberPattern(parseInt(e[1]),a,"right")),l+="E"+(u>0?"-":"+")+this.applyNumberPattern(Math.abs(u),o)}},{key:"formatAsDateTimeElapsed",value:function(e,t,r,n,a){var o=this;e=Math.abs(e.getTime()-this.zeroDate.getTime());var i=parseInt(e/1e3),u=parseInt(i/60),s=parseInt(u/60),l=parseInt(s/24);return s=t?s%24:s,u=r?u%60:u,i=n?i%60:i,a.replace(/(dd)|(d)|(hh)|(h)|(mm)|(m)|(ss)|(s)/gi,function(e,t,r,n,a,c,m,p,d){return t?o.applyNumberPattern(l,"00"):r?l:n?o.applyNumberPattern(s,"00"):a?s:c?o.applyNumberPattern(u,"00"):m?u:p?o.applyNumberPattern(i,"00"):d?i:""})}},{key:"formatAsDateTimeNormal",value:function(e,t){var r=this,n=this.locale,a=n.days,o=n.daysShort,i=n.months,u=n.monthsShort,s=!1,l=e.getFullYear(),c=e.getMonth(),m=e.getDate(),p=e.getDay(),d=e.getHours(),h=e.getMinutes(),f=e.getSeconds(),y=t.replace(/((?:am\/pm)|(?:a\/p))|(?:(h[^ydsap]*?)mm)|(?:mm([^ydh]*?s))|(?:(h[^ydsap]*?)m)|(?:m([^ydh]*?s))/gi,function(e,t,n,a,o,i){return t?(s=!0,"[]"):n?n+r.applyNumberPattern(h,"00"):a?r.applyNumberPattern(h,"00")+a:o?o+h:i?h+i:""});return y.replace(/(ss)|(s)|(hh)|(h)|(dddd)|(ddd)|(dd)|(d)|(mmmmm)|(mmmm)|(mmm)|(mm)|(m)|(yyyy)|(yy)|(\[\])/gi,function(e,t,n,h,y,v,g,b,N,S,C,k,T,w,M,P,D){return t?r.applyNumberPattern(f,"00"):n?f:h?r.applyNumberPattern(s?d%12:d,"00"):y?s?d%12:d:v?a[p]:g?o[p]:b?r.applyNumberPattern(m,"00"):N?m:S?u[c][0]:C?i[c]:k?u[c]:T?r.applyNumberPattern(c+1,"00"):w?c+1:M?l:P?l.toString().substr(2):D?12>d?"AM":"PM":""})}},{key:"createTextCode",value:function(e){var t=new i.Code;return t.append("\n      result.value = {0}.replace(/@/, n);\n    ",e),t.toString()}},{key:"createGeneralCode",value:function(){var e=new i.Code,t=this.createNumberCode("#.00"),r=this.createDateTimeCode("[d]");return e.append('\n      if (type === "Number") {\n        '+t+'\n      }\n      if (type === "DateTime") {\n        '+r+"\n      }\n    "),e.toString()}},{key:"createNumberExponentialCode",value:function(e){var t=e[1],r=e[2],n=e[3],a=new i.Code,o=void 0,u=void 0,s=function(e){return e.match(/0|\?|#/g).length};return t?o=s(t):(t="#",o=1),r?u=s(r):(r="",u=0),a.append("\n      result.value = this.formatAsNumberExponential(n, {0}, {1}, {2}, {3}, {4});\n    ",o,u,t,r,n),a.toString()}},{key:"createNumberFractialCode",value:function(e){for(var t=new i.Code,r=e[1]||"#",n=e[2]||"#",a=r.length-1;"0"===r[a]&&"?"!==r[a]&&"#"!==r[a]&&" "!==r[a]&&a>0;)a--;var o=r.substr(0,a),u=r.substr(a);return o?t.append("\n        result.value = this.formatAsNumberFractialMixed(n, {0}, {1}, {2});\n      ",o,u,n):t.append("\n        result.value = this.formatAsNumberFractial(n, {0}, {1});\n      ",u,n),t.toString()}},{key:"createNumberDecimalCode",value:function(e){var t=new i.Code,r=e[1]||"0",n=e[2]||"",a=void 0,o=1,u=function(e){return e.match(/0|\?|#/g).length};return a=n?u(n):0,r=r.replace(/(0|#|\?)(,+)([^0?#]*)$/,function(e,t,r,n){return o*=Math.pow(1e3,r.length),t+n}),1!==o&&t.append("\n        n /= {0};\n      ",o),t.append("\n      result.value = this.formatAsNumberDecimal(n, {0}, {1}, {2});\n    ",a,r,n),t.toString()}},{key:"createNumberIntegerCode",value:function(e){var t=new i.Code;return t.append("\n      n = Math.round(n);\n      result.value = this.applyNumberPattern(n, {0});\n    ",e),t.toString()}},{key:"createNumberCode",value:function(e,t){var r=new i.Code;t&&r.append("\n        n = Math.abs(n);\n      ");var n=e.match(/(.*?)(?:\.(.*?))?e(?:\+|\-)(.*)/i);if(n)r.append(this.createNumberExponentialCode(n));else{var a=1;e=e.replace(/(0|#|\?)(\s+)([^0?#]*?)($|\.)/,function(e,t,r,n,o){return a*=Math.pow(1e3,r.length),t+n+o});var o=e.match(/%/g);o&&(a/=Math.pow(100,o.length)),1!==a&&r.append("\n          n /= {0};\n        ",a);var u=void 0,s=void 0;switch(!0){case!!(u=e.match(/(.*?)\/(.*)/)):r.append(this.createNumberFractialCode(u));break;case!!(s=e.match(/(.*?)\.(.*)/)):r.append(this.createNumberDecimalCode(s));break;default:r.append(this.createNumberIntegerCode(e))}}var l=new i.Code;return l.append("\n      n = parseFloat(n);\n    "),l.append("\n      if (!isNaN(n)) {\n        if (n >= 1e21 || n <= -1e21) {\n          result.value = n.toString().toUpperCase();\n        }\n        else {\n          "+r+"\n        }\n      }\n    "),l.toString()}},{key:"createDateTimeElapsedCode",value:function(e){var t=new i.Code,r=/d/i.test(e),n=/h/i.test(e),a=/m/i.test(e);return t.append("\n      result.value = this.formatAsDateTimeElapsed(n, {0}, {1}, {2}, {3});\n    ",r,n,a,e),t.toString()}},{key:"createDateTimeNormalCode",value:function(e){var t=new i.Code;return t.append("\n      result.value = this.formatAsDateTimeNormal(n, {0});\n    ",e),t.toString()}},{key:"createDateTimeCode",value:function(e){var t=new i.Code,r=!1;e=e.replace(/\[(h+?|m+?|s+?|y+?|d+?)]/gi,function(e,t){return r=!0,t});var n=r?this.createDateTimeElapsedCode(e):this.createDateTimeNormalCode(e);return t.append("\n      n = this.createDate(n);\n      if (!isNaN(n.getTime())) {\n        "+n+"\n      }\n    "),t.toString()}},{key:"createSectionCode",value:function(e,t,r){var n=new i.Code,a=void 0,o=!1,u=e.match(/\[((?:>|>=|<|<=|=|<>)[0-9\.]+?)]/);switch(!0){case!!u:var s=u[1].replace(/<>/,"!=").replace("/=/","==");a='type == "Number" && parseFloat(n)'+s;break;case 0===t&&r>2:a='type == "Number" && parseFloat(n) > 0';break;case 0===t&&2===r:a='type == "Number" && parseFloat(n) >= 0';break;case 1===t:a='type == "Number" && parseFloat(n) < 0',o=!0}e=e.replace(/\[(Red|Green|White|Blue|Magenta|Yellow|Cyan|Black)]/gi,function(e,t){return n.append("\n        result.color = {0};\n      ",t),""}),e=e.replace(/(\[((?!((\$*?)|(d*?)|(h*?)|(m*?)|(s*?))]).*?)])/,"");var l=new i.Code;switch(l.append("\n      result.value = {0};\n      result.pattern = {0};\n    ",e),!0){case/General/i.test(e):l.append(this.createGeneralCode(e));break;case/@/.test(e):l.append(this.createTextCode(e));break;case/#|\?|0/.test(e):a||(a='type === "Number"'),l.append(this.createNumberCode(e,o));break;case/h|m|s|y|d/i.test(e):a||(a='type === "DateTime"'),l.append(this.createDateTimeCode(e))}return l.append("\n      return makeResult.call(this);\n    "),a?n.append("\n        // Section\n        if ("+a+") {\n          "+l+"\n        }\n        // End section\n      "):n.append("\n        // Section\n        "+l+"\n        // End section\n      "),n.toString()}},{key:"createPatternCode",value:function(e){var t=this,r=[],n="",a=e.replace(/"([^"]+)"|\\(.?)|(_.?)|(\*.?)|(")/g,function(e,t,a,o){return t?(r.push(t.replace(/("|'|\\)/g,"\\$1")),"["+(n+="$")+"]"):a?(r.push(a.replace(/("|'|\\)/g,"\\$1")),"["+(n+="$")+"]"):o?(r.push(" "),"["+(n+="$")+"]"):""}),o=a.split(/;/),u=new i.Code;return u.append('\n      var result = {\n        value: "",\n        align: type === "Number" || type === "DateTime" ? "right" : "",\n        color: "",\n        pattern: ""\n      };\n\n      function makeResult() {\n        var origins = {0};\n        result.value = this.restoreOrigins(result.value, origins);\n        result.pattern = this.restoreOrigins(result.pattern, origins);\n        return result;\n      };\n    ',r),o=o.slice(0,4),o.forEach(function(e,r){return u.append(t.createSectionCode(e,r,o.length))}),u.append("\n      result.value = {0};\n      result.pattern = {0};\n      return makeResult.call(this);\n    ",a),u.toString()}},{key:"format",value:function(e,t,r){if(this.log("Input:"),this.log("n = "+e+", type = "+t+", pattern = "+r),e=e.toString(),r=r.toString(),this.locale.formats[r]&&(r=this.locale.formats[r]),!this.memoized[r]){var n=this.createPatternCode(r);n=this.transformCode(n),this.memoized[r]=Function("n","type",n),this.log("Code:"),this.log(n)}var a=this.memoized[r].call(this,e,t);return this.log("Result:"),this.log(a),a}}]),e}(),l=new s;a=function(){return l}.call(t,r,t,e),!(void 0!==a&&(e.exports=a)),a=function(){return s}.call(t,r,t,e),!(void 0!==a&&(e.exports=a))},function(e,t){"use strict";function r(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e){for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;t>n;n++)r[n-1]=arguments[n];return e.replace(/{(\d+)}/g,function(e,t){return"undefined"!=typeof r[t]?r[t]:e})}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();t.formatString=a;t.Code=function(){function e(){n(this,e),this.code=""}return o(e,[{key:"makeString",value:function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),o=1;t>o;o++)n[o-1]=arguments[o];return n=n.map(JSON.stringify),a.apply(void 0,[e].concat(r(n)))}},{key:"append",value:function(){this.code+=this.makeString.apply(this,arguments)}},{key:"toString",value:function(){return this.code}}]),e}()},function(e,t,r){function n(e){return r(a(e))}function a(e){return o[e]||function(){throw new Error("Cannot find module '"+e+"'.")}()}var o={"./en-US.js":3,"./ru.js":4};n.keys=function(){return Object.keys(o)},n.resolve=a,e.exports=n,n.id=2},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]={months:["january","february","march","april","may","june","july","august","september","october","november","december"],monthsShort:["jan","feb","mar","apr","may","jun","jul","aug","sep","oct","nov","dec"],days:["sunday","monday","tuesday","wednesday","thursday","friday","saturday"],daysShort:["su","mo","tu","we","th","fr","sa"],thousandSeparator:" ",decimalSeparator:",",formats:{"General Number":"#.#",Currency:"$ #,##0.00;[Red]$ -#,##0.00",Fixed:"0.00",Standard:"#,##0.00",Percent:"0.00%",Scientific:"0.00E+00","Yes/No":'"Yes";"Yes";"No"',"True/False":'"True";"True";"False"',"On/Off":'"On";"On";"Off"',"Short Date":"mm.dd.yyyy","Long Date":"dd mmmm yyyy","General Date":"mm.dd.yyyy h:mm","Medium Date":"dd.mmm.yy","Long Time":"hh:mm:ss AM/PM","Short Time":"h:mm","Medium Time":"hh:mm AM/PM"}}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]={months:["января","февраля","марта","апреля","мая","июня","июля","августа","сентября","октября","ноября","декабря"],monthsShort:["янв","фев","мар","апр","май","июн","июл","авг","сен","окт","ноя","дек"],days:["воскресенье","понедельник","вторник","среда","четверг","пятница","суббота"],daysShort:["вс","пн","вт","ср","чт","пт","сб"],thousandSeparator:" ",decimalSeparator:",",formats:{"General Number":"#.#",Currency:"#,##0.00р.;[Red]-#,##0.00р.",Fixed:"0.00",Standard:"#,##0.00",Percent:"0.00%",Scientific:"0.00E+00","Yes/No":'"Да";"Да";"Нет"',"True/False":'"Истина";"Истина";"Ложь"',"On/Off":'"Вкл";"Вкл";"Выкл"',"Short Date":"mm.dd.yyyy","Long Date":"dd mmmm yyyy","General Date":"mm.dd.yyyy h:mm","Medium Date":"dd.mmm.yy","Long Time":"hh:mm:ss AM/PM","Short Time":"h:mm","Medium Time":"hh:mm AM/PM"}}}]);
//# sourceMappingURL=test.js.map